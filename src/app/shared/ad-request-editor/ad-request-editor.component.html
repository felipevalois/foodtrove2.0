<div class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
  <div class="bg-white rounded-lg shadow-xl w-[95vw] max-w-[1350px] mx-4 overflow-hidden">

    <!-- Header -->
    <div class="flex justify-between items-center px-6 py-4 border-b">
      <div>
        <h2 class="text-xl font-semibold mb-1">Ad Decision Request Editor</h2>
        <div class="text-sm text-gray-500">
          <span class="bg-gray-100 px-2 py-0.5 rounded text-xs font-mono mr-2">POST</span>
          <a class="text-blue-600 hover:underline" href="https://e-11580.adzerk.net/api/v2" target="_blank">
            https://e-11580.adzerk.net/api/v2
          </a>
          <a class="ml-1 text-blue-400 hover:underline text-xs" href="#" target="_blank">(docs)</a>
        </div>
      </div>
      <button (click)="onSave(null)">
        <span class="text-2xl text-gray-500 hover:text-gray-700">&times;</span>
      </button>
    </div>

    <!-- Body -->
    <div class="p-6 flex gap-4 max-h-[70vh] overflow-hidden">
      <!-- Request -->
      <div class="flex-1 flex flex-col relative">
        <h3 class="text-sm font-medium mb-2">Request</h3>
        <div class="bg-[#f7f7f8] rounded border overflow-auto flex-1 custom-ace-wrapper">
          <div #editorRequest class="ace-editor h-[500px] w-full text-sm pl-1"></div>
        </div>
        <button
          (click)="copyToClipboard(rawJson)"
          class="absolute top-8 right-2 p-1 rounded bg-white shadow hover:shadow-md"
          title="Copy the current request to the clipboard"
        >
        <span class="material-icons text-gray-600 text-base">content_copy</span>
        </button>
      </div>

      <!-- Response -->
      <div class="flex-1 flex flex-col relative">
        <h3 class="text-sm font-medium mb-2">Response</h3>
        <div class="bg-[#f7f7f8] rounded border overflow-auto flex-1 custom-ace-wrapper">
          <div #editorResponse class="ace-editor h-[500px] w-full text-sm pl-1"></div>
        </div>
        <button
          (click)="copyToClipboard(formattedResponse)"
          class="absolute top-8 right-2 p-1 rounded bg-white shadow hover:shadow-md"
          title="Copy the current response to the clipboard"
        >
        <span class="material-icons text-gray-600 text-base">content_copy</span>
        </button>
      </div>
    </div>


<!-- Footer -->
<div class="flex justify-between items-center px-6 py-4 border-t">
  <!-- Left side -->
  <div>
    <button
      class="px-4 py-2 border border-gray-300 text-gray-800 rounded hover:bg-gray-50 flex items-center gap-2"
      (click)="updateRequest()"
    >
      <span class="material-icons text-base">play_arrow</span>
      Update Response
    </button>
  </div>

  <!-- Right side -->
  <div class="flex gap-3">
    <button
      class="px-4 py-2 bg-white text-gray-700 rounded border hover:bg-gray-50"
      (click)="onSave(null)"
    >
      Cancel
    </button>
    <button
      class="px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 flex items-center gap-2"
      [disabled]="!responseJson"
      (click)="save()"
    >
      <span class="material-icons text-base">save</span>
      Save
    </button>
  </div>
</div>

  </div>
</div>
